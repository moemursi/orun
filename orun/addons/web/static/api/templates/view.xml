<templates>
  <script id="view.header" type="text/ng-template">
    <div class="data-heading panel panel-default">
      <div class="panel-body" ng-transclude></div>
    </div>
  </script>
  <script id="view.toolbar" type="text/ng-template">
    <toolbar>
      <div class="row">
        <div class="col-sm-6">
          <ol class="breadcrumb">
            <li>{{ action.info.display_name }}</li>
          </ol>
        </div>
        <search-view class="col-md-6"/>
        <!--<p class="help-block">{{ action.info.usage }}&nbsp;</p>-->
      </div>
      <div class="toolbar row">
        <div class="col-sm-6">

          <ng-include src="'view.buttons'"></ng-include>

          <ng-include src="'view.buttons.reports'"></ng-include>

          <ng-include src="'view.buttons.actions'"></ng-include>

          <!--button class="btn btn-default" ng-click="dataSource.refresh()"><i class="fa fa-refresh"></i> ${ Katrid.i18n.gettext('Refresh') }</button-->

        </div>
        <div class="col-sm-6">

          <ng-include src="'view.search.buttons'"></ng-include>

          <div class="float-right">
            <div class="btn-group pagination-area">
              <span class="paginator">{{dataSource.offset|number}} - {{dataSource.offsetLimit|number}}</span> /
              <span class="total-pages">{{dataSource.recordCount|number}}</span>
            </div>
            <div class="btn-group">
              <button class="btn btn-secondary" type="button" ng-click="dataSource.prevPage()">
                <i class="fa fa-chevron-left"></i>
              </button>
              <button class="btn btn-secondary" type="button" ng-click="dataSource.nextPage()">
                <i class="fa fa-chevron-right"></i>
              </button>
            </div>

            <div class="btn-group">
              <button ng-if="::action.viewModes.includes('card')" class="btn btn-secondary" type="button" ng-click="action.setViewType('card')"><i class="fa fa-th-large"></i></button>
              <button ng-if="::action.viewModes.includes('list')" class="btn btn-secondary" type="button" ng-click="action.setViewType('list')"><i class="fa fa-list"></i></button>
              <button ng-if="::action.viewModes.includes('calendar')" class="btn btn-secondary" type="button" ng-click="action.setViewType('calendar')"><i class="fa fa-calendar"></i></button>
              <button ng-if="::action.viewModes.includes('chart')" class="btn btn-secondary" type="button" ng-click="action.setViewType('chart')"><i class="fa fa-bar-chart-o"></i></button>
            </div>

          </div>
        </div>

      </div>
    </toolbar>
  </script>
  <script id="view.buttons" type="text/ng-template">
    <div class="btn-group">
      <button class="btn btn-primary" type="button" ng-click="action.createNew()">
        {{ ::_.gettext('Create') }}
      </button>
    </div>
  </script>
  <script id="view.buttons.reports" type="text/ng-template">
    <div class="btn-group" ng-show="action.selectionLength">
      <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true">
        {{ ::_.gettext('Print') }} <span class="caret"></span>
      </button>
      <div class="dropdown-menu">
        <a class="dropdown-item" ng-click="action.autoReport()">
          {{ ::_.gettext('Auto Report') }}
        </a>

        <a ng-repeat="bindingAction in view.toolbar.print" class="dropdown-item" data-id="{{ bindingAction.id }}" ng-click="$parent.action.doBindingAction($event)">
          {{ bindingAction.name }}
        </a>

      </div>
    </div>
  </script>
  <script id="view.buttons.actions" type="text/ng-template">
    <div class="btn-group" ng-show="action.selectionLength">
      <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown"
              aria-haspopup="true">
        {{ ::_.gettext('Action') }} <span class="caret"></span>
      </button>
      <div class="dropdown-menu">
        <a class="dropdown-item" ng-click="action.deleteSelection()">
          <i class="fa fa-fw fa-trash-o"></i> {{ ::_.gettext('Delete') }}
        </a>


      </div>
    </div>
  </script>
</templates>