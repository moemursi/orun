<templates>
  <script id="view.search" type="text/ng-template">
    <div class="search-area">
      <div class="search-view">
        <div class="search-view-facets"></div>
        <input class="search-view-input" role="search" placeholder="{{ ::_.gettext('Search...') }}" ng-model="search.text">
        <span
            ng-class="{'fa-search-plus': !search.viewMoreButtons, 'fa-search-minus': search.viewMoreButtons}"
            class="search-view-more fa"></span>
      </div>
      <div class="col-sm-12">
        <ul class="search-dropdown-menu search-view-menu" role="menu"></ul>
      </div>
    </div>
  </script>
  <script id="view.search.buttons" type="text/ng-template">
    <div class="btn-group search-view-more-area" ng-show="search.viewMoreButtons">
      {{ fieldList|json }}
      <div class="btn-group">
        <button class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" type="button" aria-expanded="false">
          <span class="fa fa-filter"></span> {{ ::_.gettext('Filters') }} <span class="caret"></span>
        </button>
        <div class="dropdown-menu search-view-filter-menu">
          <div class="dropdown-divider"></div>
          <a class="dropdown-item dropdown-search-item" onclick="event.stopPropagation();event.preventDefault();" ng-click="customSearchExpanded=!customSearchExpanded">
            <i ng-class="{ 'fa-caret-right': !customSearchExpanded, 'fa-caret-down': customSearchExpanded }" class="fa expandable"></i>
            {{ ::_.gettext('Add Custom Filter') }}
          </a>
          <div ng-if="customSearchExpanded" onclick="event.stopPropagation();event.preventDefault();" ng-scope>
            <div class="col-12">
              <div class="form-group">
                <select class="form-control" ng-model="customSearchFieldName">
                  <option ng-repeat="field in action.fieldList|orderBy:'caption'" value="{{ field.name }}">{{ field.caption }}</option>
                </select>
              </div>
              <div class="form-group">
                <select class="form-control">
                  <option value="=">É igual</option>
                  <option value="!=">É diferente</option>
                </select>
              </div>
              <div class="form-group">
                <ng-include src="action.fields[customSearchFieldName].paramTemplate"/>
              </div>
              <div class="form-group">
                <button class="btn btn-primary">Adicionar</button>
                <button class="btn btn-secondary">Aplicar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="btn-group">
        <button class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" type="button">
          <span class="fa fa-bars"></span> {{ ::_.gettext('Group By') }} <span class="caret"></span>
        </button>
        <ul class="dropdown-menu search-view-groups-menu"></ul>
      </div>
      <button class="btn btn-secondary">
        <span class="fa fa-star"></span> {{ ::_.gettext('Favorites') }} <span class="caret"></span>
      </button>
    </div>
  </script>
</templates>