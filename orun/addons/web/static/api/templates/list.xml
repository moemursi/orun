<templates>
  <script id="view.list" type="text/ng-template">
    <list-view id="katrid-action-view">
      <ng-include src="'view.toolbar'"></ng-include>
      <div class="content-scroll">
        <div class="content no-padding">
          <div class="panel-default data-panel">
            <div class="panel-body no-padding">
              <div class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                <table class="table table-condensed table-hover display responsive nowrap dataTable no-footer dtr-column">
                  <thead>
                  <tr>
                    <td id="replace-ths"></td>
                  </tr>
                  </thead>
                  <tbody>
                  <tr ng-repeat="record in records" ng-class="{'group-header': row._hasGroup}"
                      ng-click="action.listRowClick($index, record, $event)">
                    <td id="replace-cols"></td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </list-view>
  </script>
  <script id="view.list.th.group" type="text/ng-template">
    <th ng-show="dataSource.groups.length"></th>
  </script>
  <script id="view.list.td.group" type="text/ng-template">
    <td ng-show="dataSource.groups.length" class="group-header">
      <div ng-show="row._group">
        <span class="fa fa-fw fa-caret-right"
              ng-class="{'fa-caret-down': row._group.expanded, 'fa-caret-right': row._group.collapsed}"></span>
        {{::row._group.__str__}} ({{::row._group.count }})
      </div>
    </td>
  </script>
  <script id="view.list.th.selector" type="text/ng-template">
    <th class="list-record-selector">
      <input type="checkbox" ng-click="action.selectToggle($event.currentTarget)"
             onclick="$(this).closest('table').find('td.list-record-selector input').prop('checked', $(this).prop('checked'))">
    </th>
  </script>
  <script id="view.list.td.selector" type="text/ng-template">
    <td class="list-record-selector" onclick="event.stopPropagation();">
      <input data-id="{{ ::row.id }}" type="checkbox" ng-click="action.selectToggle($event.currentTarget)"
             onclick="if (!$(this).prop('checked')) $(this).closest('table').find('th.list-record-selector input').prop('checked', false)">
    </td>
  </script>
</templates>