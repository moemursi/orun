{"version":3,"sources":["../src/core/katrid.js","../src/core/app.js","../src/io/services.js","../src/data/fields.js","../src/ui/katrid.js","../src/ui/grid.js"],"names":[],"mappings":"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","file":"katrid.full.js","sourcesContent":["\nvar Katrid = {};\n","(function() {\n\n  class Application {\n    constructor(opts) {\n      Katrid.app = this;\n      this.title = opts.title;\n      this.plugins = ['ui.router', 'ui.katrid'];\n\n      // initialize angular app (katrid module)\n      this.ngApp = angular.module('katridApp', this.plugins)\n      .run(['$templateCache', ($templateCache) => {\n        this.$templateCache = $templateCache;\n      }])\n\n      // config urls\n      .config(['$stateProvider', ($stateProvider) => {\n        $stateProvider\n        .state('menuEntry', {\n          url: '/menu/:menuId/',\n          controller: 'MenuController',\n          reloadOnSearch: false\n        })\n        .state('actionView', {\n          url: '/action/:actionId/?view_type&id',\n          reloadOnSearch: false,\n          controller: 'ActionController',\n          resolve: {\n            action: ['$stateParams', '$state', '$location',\n              async ($stateParams, $state, $location) => {\n                let params = $stateParams;\n                Katrid.Actions.actionManager.clear();\n                let info = await Katrid.Services.Actions.load(params.actionId);\n                let model = new Katrid.Services.Model(info.model);\n                let action = new (Katrid.Actions[info.action_type])(info, null, $location);\n                action.model = model;\n                $state.$current.data = { action };\n                await action.execute();\n                return action;\n              }\n            ]\n          },\n          templateProvider: async ($stateParams, $state) => {\n            return $state.$current.data.action.template;\n            // return $state.$current.data.action.template;\n          }\n        })\n      }]);\n\n      angular.element(function() {\n        angular.bootstrap(document, ['katridApp']);\n      });\n    }\n\n    async getTemplate(tpl) {\n      return fetch(tpl)\n      .then(async res => {\n        let content = await res.text();\n        this.$templateCache.put(tpl, content);\n        return content;\n      });\n    }\n  }\n\n  Settings = {};\n\n  Katrid.Core = { Application, Settings };\n})();\n","(function () {\n\n  let requestManager;\n  class RequestManager {\n    constructor() {\n      this.requestId = 0;\n      this.requests = {};\n    }\n\n    request() {\n      const reqId = ++requestManager.requestId;\n      const def = new $.Deferred();\n      this.requests[reqId] = def;\n      def.requestId = reqId;\n      return def;\n    }\n  }\n\n\n  if (Katrid.socketio) {\n    requestManager = new RequestManager();\n\n    Katrid.socketio.on('connect', () => console.log(\"I'm connected!\"));\n\n    Katrid.socketio.on('api', function (data) {\n      if (_.isString(data)) {\n        data = JSON.parse(data);\n      }\n      const def = requestManager.requests[data['req-id']];\n      return def.resolve(data);\n    });\n  }\n\n\n  class Service {\n    static get url() { return '/api/rpc/' };\n\n    constructor(name, scope) {\n      this.name = name;\n    }\n\n    static $fetch(url, config, params) {\n      if (params) {\n        url = new URL(url);\n        Object.entries(params).map((k, v) => url.searchParams.append(k, v));\n      }\n      return fetch(url, config);\n    }\n\n    static $post(url, data, params) {\n      return this.$fetch(url, {\n        method: 'POST',\n        credentials: \"same-origin\",\n        body: JSON.stringify(data),\n        headers: {\n          'content-type': 'application/json',\n        }\n      }, params)\n      .then(res => res.json());\n    }\n\n    delete(name, params, data) {\n    }\n\n    get(name, params) {\n      if (Katrid.Settings.servicesProtocol === 'ws') {\n        // Using websocket protocol\n        return Katrid.socketio.emit('api', {channel: 'rpc', service: this.name, method: name, data, args: params});\n      } else {\n        // Using http protocol\n        const methName = this.name ? this.name + '/': '';\n        const rpcName = Katrid.Settings.server + this.constructor.url + methName + name + '/';\n        return $.get(rpcName, params);\n      }\n    }\n\n    post(name, data, params) {\n      let context = Katrid.Application.context;\n      if (!data)\n        data = {};\n      if (context)\n        data.context = context;\n\n      data = {\n        jsonrpc: '2.0',\n        method: name,\n        params: data,\n        id: Math.floor(Math.random() * 1000 * 1000 * 1000)\n      };\n\n      // Check if protocol is socket.io\n      if (Katrid.Settings.servicesProtocol === 'io') {\n        const def = requestManager.request();\n        Katrid.socketio.emit('api',\n          {\n            \"req-id\": def.requestId,\n            \"req-method\": 'POST',\n            service: this.name,\n            method: name,\n            data,\n            args: params\n          }\n        );\n        return def;\n\n        // Else, using ajax\n      } else {\n        const methName = this.name ? this.name + '/': '';\n        let rpcName = Katrid.Settings.server + this.constructor.url + methName + name + '/';\n        if (params) {\n          rpcName += `?${$.param(params)}`;\n        }\n        return new Promise(\n          (resolve, reject) => {\n\n            $.ajax({\n              method: 'POST',\n              url: rpcName,\n              data: JSON.stringify(data),\n              contentType: \"application/json; charset=utf-8\",\n              dataType: 'json'\n            })\n            .then(res => {\n              if (res.error)\n                reject(res.error);\n              else\n                resolve(res.result);\n            })\n            .fail(res => reject(res));\n\n          }\n        );\n      }\n    }\n  }\n\n\n  class Model extends Service {\n    searchName(name) {\n      if (_.isString(name))\n        name = { args: name };\n      return this.post('search_name', name);\n    }\n\n    createName(name) {\n      let kwargs = {name};\n      return this.post('create_name', { kwargs: kwargs });\n    }\n\n    search(data, params) {\n      return this.post('search', { kwargs: data }, params);\n    }\n\n    destroy(id) {\n      if (!_.isArray(id))\n        id = [id];\n      return this.post('destroy', { kwargs: {ids: id} });\n    }\n\n    getById(id) {\n      return this.post('get', { args: [id] });\n    }\n\n    getDefaults() {\n      return this.post('get_defaults', {});\n    }\n\n    copy(id) {\n      return this.post('copy', { args: [id] });\n    }\n\n    static _prepareFields(res) {\n      if (res) {\n        res.fields = Katrid.Data.Fields.Field.fromArray(res.fields);\n        res.fieldList = Object.values(res.fields);\n        Object.values(res.views).map(v => v.fields = Katrid.Data.Fields.Field.fromArray(v.fields));\n        Object.keys(res.views).map(k => res.views[k] = new Katrid.Data.View(res.views[k]));\n      }\n      return res;\n    }\n\n    getViewInfo(data) {\n      return this.post('get_view_info', { kwargs: data })\n      .then(this.constructor._prepareFields);\n    }\n\n    async loadViews(data) {\n      return this.post('load_views', { kwargs: data })\n      .then(this.constructor._prepareFields);\n    }\n\n    getFieldsInfo(data) {\n      return this.post('get_fields_info', { kwargs: data })\n      .then(this.constructor._prepareFields);\n    }\n\n    getFieldChoices(field, term, kwargs) {\n      return this.post('get_field_choices', { args: [ field, term ], kwargs: kwargs } );\n    }\n\n    doViewAction(data) {\n      return this.post('do_view_action', { kwargs: data });\n    }\n\n    write(data, params) {\n      return new Promise((resolve, reject) => {\n        this.post('write', {kwargs: {data}}, params)\n        .then((res) => {\n          Katrid.Dialogs.Alerts.success(Katrid.i18n.gettext('Record saved successfully.'));\n          resolve(res);\n        })\n        .catch(res => {\n          if ((res.status === 500) && res.responseText)\n            alert(res.responseText);\n          else\n            Katrid.Dialogs.Alerts.error(Katrid.i18n.gettext('Error saving record changes'));\n          reject(res);\n        });\n      });\n    }\n\n    groupBy(grouping) {\n      return this.post('group_by', { kwargs: grouping });\n    }\n\n    autoReport() {\n      return this.post('auto_report', { kwargs: {} });\n    }\n\n    rpc(meth, args, kwargs) {\n      return this.post(meth, { args: args, kwargs: kwargs });\n    }\n  }\n\n\n  class Query extends Model {\n    constructor() {\n      super('ir.query');\n    }\n\n    static read(id) {\n      return (new Query()).post('read', { args: [id] });\n    }\n  }\n\n\n  class Data extends Service {\n    static get url() { return '/web/data/' };\n\n    reorder(model, ids, field='sequence', offset=0) {\n      return this.post('reorder', { args: [ model, ids, field, offset ] });\n    }\n  }\n\n  class Attachments {\n    static destroy(id) {\n      let svc = new Model('ir.attachment');\n      svc.destroy(id);\n    }\n\n    static upload(file, scope=null) {\n      let data = new FormData();\n      if (scope === null) scope = angular.element(file).scope();\n      data.append('model', scope.model.name);\n      data.append('id', scope.recordId);\n      for (let f of file.files) data.append('attachment', f, f.name);\n      return $.ajax({\n        url: '/web/content/upload/',\n        type: 'POST',\n        data: data,\n        processData: false,\n        contentType: false\n      })\n      .done((res) => {\n        console.log('attachments', scope.attachments, scope);\n        if (!scope.attachments)\n          scope.attachments = [];\n        if (res)\n          for (let obj of res) scope.attachments.push(obj);\n        scope.$apply();\n      });\n    }\n  }\n\n  class View extends Model {\n    constructor() {\n      super('ui.view');\n    }\n\n    fromModel(model) {\n      return this.post('from_model', null, {model});\n    }\n  }\n\n\n  class Actions extends Model {\n    static load(action) {\n      let svc = new Model('ir.action');\n      return svc.post('load', { args: [action] });\n    }\n  }\n\n\n  class Auth extends Service {\n    static login(username, password) {\n      return this.$post('/web/login/', { username: username, password: password });\n    }\n  }\n\n  class Upload {\n    static sendFile(service, file) {\n      let form = new FormData();\n      form.append('files', file.files[0]);\n      let scope = angular.element(file).scope();\n      $.ajax({\n        url: `/web/file/upload/${scope.model.name}/${service}/?id=${scope.record.id}`,\n        data: form,\n        processData: false,\n        contentType: false,\n        type: 'POST',\n        success: (data) => {\n          console.log('success', data);\n          scope.dataSource.refresh();\n          Katrid.Dialogs.Alerts.success('Operação realizada com sucesso.')\n        }\n      });\n    }\n  }\n\n  this.Katrid.Services = {\n    Data,\n    View,\n    data: new Data('', ),\n    Attachments,\n    Service,\n    Model,\n    Query,\n    Auth,\n    Upload,\n    Actions\n  };\n\n})();\n\n","(function() {\n\n  class Field {\n    constructor(info) {\n      this._info = info;\n      this.displayChoices = _.object(info.choices);\n      this.template = {\n        list: 'view.list.field.pug',\n        form: 'view.form.field.pug',\n      };\n      if (this._info.listTemplate)\n        this.template.list = this._info.listTemplate;\n      if (this._info.formTemplate)\n        this.template.form = this._info.formTemplate;\n    }\n\n    static fromInfo(info) {\n      let cls = Katrid.Data.Fields[info.type] || StringField;\n      return new cls(info);\n    }\n\n    static fromArray(fields) {\n      let r = {};\n      Object.keys(fields).map(k => r[k] = this.fromInfo(fields[k]));\n      return r;\n    }\n\n    fromJSON(value, dataSource) {\n      dataSource.record[this.name] = value;\n    }\n\n    get onChange() {\n      return this._info.onchange;\n    }\n\n    get hasChoices() {\n      return this._info.choices && this._info.choices.length > 0;\n    }\n\n    get choices() {\n      return this._info.choices;\n    }\n\n    get name() {\n      return this._info.name;\n    }\n\n    get model() {\n      return this._info.model;\n    }\n\n    get caption() {\n      return this._info.caption;\n    }\n\n    get readonly() {\n      return this._info.readonly;\n    }\n\n    get maxLength() {\n      return this._info.max_length;\n    }\n\n    get type() {\n      return this._info.type;\n    }\n\n    get paramTemplate() {\n      return 'view.param.String';\n    }\n\n    format(value) {\n      return value.toString();\n    }\n\n    toJSON(val) {\n      return val;\n    }\n\n    createWidget(widget, scope, attrs, element) {\n      if (!widget) {\n        // special fields case\n        if (this.name === 'status')\n          widget = 'StatusField';\n        else if (this.hasChoices)\n          widget = 'SelectionField';\n      }\n      let cls = Katrid.UI.Widgets[widget || this.type] || Katrid.UI.Widgets.StringField;\n      return new cls(scope, attrs, this, element);\n    }\n\n    validate() {\n\n    }\n\n    get defaultCondition() {\n      return '=';\n    }\n\n    isControlVisible(condition) {\n      switch (condition) {\n        case 'is null':\n          return false;\n        case 'is not null':\n          return false;\n      }\n      return true;\n    }\n  }\n\n  class StringField extends Field {\n  }\n\n  class BooleanField extends Field {\n    get paramTemplate() {\n      return 'view.param.Boolean';\n    }\n  }\n\n  class DateField extends Field {\n    toJSON(val) {\n      return val;\n    }\n\n    get paramTemplate() {\n      return 'view.param.Date';\n    }\n\n    format(value) {\n      if (_.isString(value))\n        return moment(value).format(Katrid.i18n.gettext('yyyy-mm-dd').toUpperCase());\n      return '';\n    }\n  }\n\n  class DateTimeField extends DateField {\n    get paramTemplate() {\n      return 'view.param.DateTime';\n    }\n  }\n\n  class NumericField extends Field {\n    toJSON(val) {\n      if (val && _.isString(val))\n        return parseFloat(val);\n      return val;\n    }\n  }\n\n  class IntegerField extends Field {\n    toJSON(val) {\n      if (val && _.isString(val))\n        return parseInt(val);\n      return val;\n    }\n\n    get paramTemplate() {\n      return 'view.param.Integer';\n    }\n  }\n\n  class FloatField extends NumericField {\n  }\n\n  class DecimalField extends NumericField {\n  }\n\n  class ForeignKey extends Field {\n    toJSON(val) {\n      if (_.isArray(val))\n        return val[0];\n      return val;\n    }\n\n    get domain() {\n      return this._info.domain;\n    }\n  }\n\n  class OneToManyField extends Field {\n    get field() {\n      return this._info.field;\n    }\n\n    fromJSON(val, dataSource) {\n      if (val && val instanceof Array) {\n        val.map((obj) => {\n          if (obj.action === 'CREATE') {\n            let child = dataSource.childByName(this.name);\n            child.scope.addRecord(obj.values);\n          }\n        });\n      }\n    }\n  }\n\n  class ManyToManyField extends ForeignKey {\n    toJSON(val) {\n      if (_.isArray(val))\n        return val.map(obj => _.isArray(obj) ? obj[0] : obj);\n      else if (_.isString(val))\n        val = val.split(',');\n      return val;\n    }\n  }\n\n  Katrid.Data.Fields = {\n    Field,\n    StringField,\n    IntegerField,\n    FloatField,\n    DecimalField,\n    DateTimeField,\n    ForeignKey,\n    OneToManyField,\n    ManyToManyField,\n    DateField,\n    BooleanField,\n  }\n\n\n})();\n\n","(function() {\n\n  Katrid.ui = {};\n  Katrid.ui.uiKatrid = angular.module('ui.katrid', []);\n\n})();\n","(function() {\n\n  Katrid.ui.uiKatrid\n\n  .directive('grid', ['$compile', function ($compile) {\n    return {\n      restrict: 'E',\n      compile(el) {\n        el = $(el);\n        let views = {};\n        for (let child of el.children())\n          views[child.tagName.toLowerCase()] = { content: child, fields: {} };\n        $(el).replaceWith('<div class=\"grid\"></div>');\n        return function (scope, el) {\n          $(views.list).find('field').attr('list-field', 'list-field');\n          // el.append($compile(views.list)(scope));\n        }\n\n      },\n    }\n  }])\n\n  .directive('list', () => ({\n    restrict: 'E',\n    transclude: true,\n    replace: true,\n    template: '<table><tr ng-transclude></tr></table>',\n  }))\n\n  .directive('listField', ['$compile', ($compile) => ({\n    restrict: 'A',\n    replace: true,\n    transclude: true,\n    template: '<td ng-transclude></td>',\n    compile(el, attrs) {\n      let content = el.html();\n      return async function(scope, el, attrs) {\n        let fieldTemplate = await Katrid.app.getTemplate('../src/templates/view.list.field.td.pug');\n        fieldTemplate = pug.compile(fieldTemplate)({name: attrs.name});\n        el.replaceWith($compile(fieldTemplate)(scope));\n        el.append(fieldContent);\n      }\n    }\n  })]);\n\n})();\n"]}