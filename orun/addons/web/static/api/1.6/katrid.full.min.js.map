{"version":3,"sources":["../src/core/katrid.js","../src/core/app.js","../src/io/services.js","../src/data/fields.js","../src/ui/katrid.js","../src/ui/grid.js"],"names":["Katrid","Settings","Core","Application","[object Object]","opts","app","this","title","plugins","ngApp","angular","module","run","$templateCache","config","$stateProvider","state","url","controller","reloadOnSearch","resolve","action","async","$stateParams","$state","$location","params","Actions","actionManager","clear","info","Services","load","actionId","model","Model","action_type","$current","data","execute","templateProvider","template","element","bootstrap","document","tpl","fetch","then","content","res","text","put","requestManager","socketio","requestId","requests","reqId","def","$","Deferred","on","console","log","_","isString","JSON","parse","Service","name","scope","URL","Object","entries","map","k","v","searchParams","append","$fetch","method","credentials","body","stringify","headers","content-type","json","servicesProtocol","emit","channel","service","args","methName","rpcName","server","constructor","get","context","jsonrpc","id","Math","floor","random","request","req-id","req-method","param","Promise","reject","ajax","contentType","dataType","error","result","fail","post","kwargs","isArray","ids","fields","Data","Fields","Field","fromArray","fieldList","values","views","keys","View","_prepareFields","field","term","Dialogs","Alerts","success","i18n","gettext","catch","status","responseText","alert","grouping","meth","Query","super","offset","Attachments","destroy","file","FormData","recordId","f","files","type","processData","done","attachments","obj","push","$apply","Auth","username","password","$post","Upload","form","record","dataSource","refresh","_info","displayChoices","object","choices","list","listTemplate","formTemplate","StringField","r","fromInfo","value","onChange","onchange","hasChoices","length","caption","readonly","maxLength","max_length","paramTemplate","toString","val","widget","attrs","UI","Widgets","defaultCondition","condition","DateField","moment","format","toUpperCase","NumericField","parseFloat","ForeignKey","domain","IntegerField","parseInt","FloatField","DecimalField","DateTimeField","OneToManyField","Array","childByName","addRecord","ManyToManyField","split","BooleanField","ui","uiKatrid","directive","$compile","restrict","el","child","children","tagName","toLowerCase","replaceWith","find","attr","transclude","replace","compile","html","fieldTemplate","getTemplate","pug","fieldContent"],"mappings":"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","file":"katrid.full.min.js"}